<!doctype html>
<html class="no-js">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" type="image/png" href="/admin/assets/i/favicon.ico">
    <link rel="stylesheet" href="/admin/assets/css/amazeui.min.css" />
    <link rel="stylesheet" href="/admin/assets/css/admin.css">
    <link rel="stylesheet" href="/layui/css/layui.css">
    <script src="/admin/assets/js/jquery.min.js"></script>
    <script src="/admin/assets/js/amazeui.min.js"></script>
    <script src="/admin/assets/js/app.js"></script>
    <script src="/layui/layui.js"></script>
    <style>
        label {
            white-space: nowrap;
        }
    </style>
</head>

<body>
    <!-- 顶部导航栏 -->
    <header class="am-topbar admin-header">
        <div class="am-topbar-brand"><img src="/admin/assets/i/logo.png"></div>
        <div class="am-collapse am-topbar-collapse" id="topbar-collapse">
            <ul class="am-nav am-nav-pills am-topbar-nav admin-header-list">
                <li class="am-dropdown tognzhi" data-am-dropdown>
                    <button class="am-btn am-btn-primary am-dropdown-toggle am-btn-xs am-radius am-icon-bell-o" data-am-dropdown-toggle> 后台管理<span class="am-badge am-badge-danger am-round">^</span></button>
                    <ul class="am-dropdown-content">
                        <li class="am-dropdown-header">&nbsp;&nbsp;跳到到...</li>
                        <li><a href="/pages/main.html">数据可视化 <span class="am-badge am-badge-danger am-round"></span></a></li>
                        <li><a href="/pages/managerLogin.html">注销 <span class="am-badge am-badge-danger am-round"></span></a></li>
                    </ul>
                </li>
                <li class="kuanjie">
                    <a href="/pages/managerIndex.html">用户管理</a>
                    <a href="/pages/managerClient.html">客户管理</a>
                    <a href="/pages/managerOrder.html">订单管理</a>
                    <a href="/pages/managerCar.html">车辆管理</a>
                    <a href="/pages/managerMoney.html">收入管理</a>
                    <a href="/pages/managerNotice.html">反馈管理</a>
                </li>
            </ul>
        </div>
    </header>

    <div class="am-cf admin-main">
        <div class="nav-navicon admin-main admin-sidebar">
            <div class="sideMenu am-icon-dashboard" style="color:#aeb2b7; margin: 10px 0 0 0;"> 欢迎系统管理员admin</div>
            <div class="sideMenu">
                <h3 class="am-icon-flag">
                    <a href="#/managerIndex">用户管理</a>
                </h3>
                <ul>
                    <li><a href="#/managerIndex">添加用户</a></li>
                    <li><a href="#/userUpdate">用户管理</a></li>
                </ul>
                <h3 class="am-icon-users">
                    <a href="#/managerClient">客户管理</a>
                </h3>
                <ul>
                    <li><a href="#/managerClient">添加客户</a> </li>
                    <li><a href="#/clientDelete">客户管理</a> </li>
                </ul>
                <h3 class="am-icon-cart-plus">
                    <a href="#/managerOrder"> 订单管理</a>
                </h3>
                <ul>
                    <li><a href="#/orderAdd">添加订单</a></li>
                    <li><a href="#/managerOrder">订单管理</a></li>
                </ul>
                <h3 class="am-icon-users">
                    <a href="#/managerCar">车辆管理</a>
                </h3>
                <ul>
                    <li><a href="#/managerCar">增加车辆</a></li>
                    <li><a href="#/carUpdate">车辆管理</a></li>
                    <!-- <li>车辆范围 </li> -->
                </ul>
                <h3 class="am-icon-gears">
                    <a href="#/managerMoney">收入管理</a>
                </h3>
                <ul>
                    <li><a href="#/managerMoney">充值</a></li>
                    <li><a href="#/moneyDelete">退押金</a></li>
                </ul>
                <h3 class="am-icon-volume-up">
                    <a href="#/managerNotice">反馈管理</a>
                </h3>
                <ul>
                    <li><a href="#/managerNotice">添加消息</a></li>
                    <li><a href="#/noticeUpdate">消息管理</a></li>
                </ul>

            </div>
        </div>
        <!-- 公共内容区域 -->
        <div id="content_area" style="background-color: #f1f2f7">


        </div>

    </div>

    <!-- <script type="text/javascript">
        
    </script> -->
    <script>
        function setSlide(index) {
            jQuery(".sideMenu").slide({
                titCell: "h3", //鼠标触发对象
                targetCell: "ul", //与titCell一一对应，第n个titCell控制第n个targetCell的显示隐藏
                effect: "slideDown", //targetCell下拉效果
                delayTime: 300, //效果时间
                triggerTime: 150, //鼠标延迟触发时间（默认150）
                defaultPlay: true, //默认是否执行效果（默认true）
                defaultIndex: index || 0,
                returnDefault: true //鼠标从.sideMen移走后返回默认状态（默认false）
            });
        }
        window.addEventListener('hashchange', function() {
            //do something 
            hashChange()
        })

        function getParamsUrl() {
            var hashDeatail = location.hash.split("?"),
                hashName = hashDeatail[0].split("#")[1], //路由地址
                params = hashDeatail[1] ? hashDeatail[1].split("&") : [], //参数内容
                query = {};
            for (var i = 0; i < params.length; i++) {
                var item = params[i].split("=");
                query[item[0]] = item[1]
            }
            return {
                path: hashName,
                query: query
            }
        }

        var router = [{
            default: 'managerIndex.html',
            "/managerIndex": "managerIndex.html",
            "/userUpdate": "userUpdate.html",
        }, {
            "/managerClient": "managerClient.html",
            "/clientDelete": "clientDelete.html",
        }, {
            "/orderAdd": "orderAdd.html",
            "/managerOrder": "managerOrder.html"
        }, {
            "/managerCar": "managerCar.html",
            "/carUpdate": "carUpdate.html",
        }, {
            "/managerMoney": "managerMoney.html",
            "/moneyDelete": "moneyDelete.html",
        }, {
            "/managerNotice": "managerNotice.html",
            "/noticeUpdate": "noticeUpdate.html",
        }];

        function getRouter(url) {

            for (var i = 0; i < router.length; i++) {
                var keys = Object.keys(router[i]);
                for (var j = 0; j < keys.length; j++) {
                    if (keys[j] === url) {
                        return {
                            html: router[i][keys[j]],
                            index: i
                        }
                    }
                }
            }
            return null;
        }
        (function init() {
            var path = getParamsUrl().path;
            // console.log(getRouter(path))
            if (getRouter(path)) {
                $("#content_area").load(getRouter(path).html);
                // console.log(getRouter(path).index)
                setSlide(getRouter(path).index);
            } else {
                $("#content_area").load(router[0]['default']);
                setSlide(0);
            }
        })()

        function hashChange() {
            // console.log(getParamsUrl());
            var path = getParamsUrl().path;
            if (getRouter(path)) {
                $("#content_area").load(getRouter(path).html);
                setSlide(getRouter(path).index);
            }
        }
    </script>

</body>

</html>